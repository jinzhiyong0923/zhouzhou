<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€ä»½ä¸ºä½ å®šåˆ¶çš„æ˜Ÿå…‰ä¹‹æ—… V4 (Final)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">

    <style>
        /* CSS STYLES - V12.0 FINAL POLISHED MASTERPIECE */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;700&display=swap');

        :root {
            /* Light Theme (Default) */
            --primary-color: #ff8fab; --secondary-color: #f8a5c2; --accent-color: #e57373;
            --text-color: #5d5d5d; --text-light: #ffffff;
            --text-title: #333;
            --bg-main: #fffcf7; --bg-secondary: #fdf6f8; --shadow-color: rgba(184, 98, 122, 0.15);
            --nav-bg: rgba(255, 252, 247, 0.85); --nav-scrolled-bg: rgba(255, 252, 247, 0.95);
            --gradient: linear-gradient(135deg, #ffdde1, #ee9ca7);
            --progress-bar-bg: #e0c5cd;
        }

        body.dark-theme {
            /* Dark Theme */
            --primary-color: #bb86fc; --secondary-color: #3700b3; --accent-color: #03dac6;
            --text-color: #e0e0e0; --text-light: #ffffff;
            --text-title: #f0f0f0;
            --bg-main: #121212; --bg-secondary: #1e1e1e; --shadow-color: rgba(0, 0, 0, 0.25);
            --nav-bg: rgba(30, 30, 30, 0.85); --nav-scrolled-bg: rgba(30, 30, 30, 0.95);
            --gradient: linear-gradient(135deg, #232526, #414345);
            --progress-bar-bg: #444;
        }

        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans SC', sans-serif; color: var(--text-color); margin: 0; background-color: var(--bg-main); overflow-x: hidden; transition: background-color 0.5s, color 0.5s; }
        .content-wrapper { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .reveal { opacity: 0; transform: translateY(50px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        /* --- Hero Header & Particle background --- */
        .hero-section { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; position: relative; overflow: hidden; }
        #particles-js { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background-color: #e3a6b5; }
        body.dark-theme #particles-js { background-color: #1a1a2e; }
        .hero-title { font-family: 'ZCOOL XiaoWei', serif; font-size: 4.5em; margin: 0; z-index: 1; }
        .hero-subtitle { font-size: 1.5em; margin-top: 15px; letter-spacing: 2px; z-index: 1; }
        .scroll-down-indicator { position: absolute; bottom: 30px; font-size: 2em; animation: bounce 2s infinite; color: white; z-index: 1; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-20px); } 60% { transform: translateY(-10px); } }

        /* --- Navbar --- */
        .navbar { position: fixed; top: 0; left: 0; width: 100%; background: var(--nav-bg); backdrop-filter: blur(10px); box-shadow: 0 2px 10px var(--shadow-color); z-index: 1000; height: 65px; display: flex; justify-content: center; align-items: center; transition: all 0.4s ease; }
        .navbar.scrolled { height: 60px; background-color: var(--nav-scrolled-bg); box-shadow: 0 4px 15px var(--shadow-color); }
        .navbar a { color: var(--text-color); text-decoration: none; padding: 10px 18px; font-weight: bold; font-size: 1.05em; transition: color 0.3s, transform 0.3s; }
        .navbar a:hover, .navbar a.active { color: var(--primary-color); transform: translateY(-2px); }

        /* --- Theme Toggle Switch --- */
        .theme-switch-wrapper { position: absolute; right: 30px; top: 50%; transform: translateY(-50%); }
        .theme-switch { display: inline-block; height: 34px; position: relative; width: 60px; }
        .theme-switch input { display:none; }
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; }
        .slider:before { background-color: #fff; bottom: 4px; content: ""; height: 26px; left: 4px; position: absolute; transition: .4s; width: 26px; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(26px); }
        .slider.round { border-radius: 34px; }
        .slider.round:before { border-radius: 50%; content: "â˜€ï¸"; line-height: 26px; text-align: center; font-size: 16px; color: #f8a5c2;}
        input:checked + .slider.round:before { content: "ğŸŒ™"; color: #1e1e1e;}

        /* --- Section Title Style --- */
        .section { padding: 120px 0; position: relative; overflow: hidden; background-color: var(--bg-main); transition: background-color 0.5s; }
        .section-accent-bg { background-color: var(--bg-secondary); }
        .section-title { font-size: 2.5em; font-weight: 700; font-family: 'Noto Sans SC', sans-serif; color: var(--text-title); margin-bottom: 70px; text-align: left; display: flex; align-items: center; gap: 15px; transition: color 0.5s; }
        .section-title i { color: var(--primary-color); font-size: 0.8em; transition: color 0.5s; }

        /* --- Slideshow Gallery --- */
        .slideshow-container { max-width: 1000px; aspect-ratio: 16 / 9; margin: auto; position: relative; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 40px var(--shadow-color); }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease-in-out; }
        .slide img { width: 100%; height: 100%; object-fit: cover; }
        .slide.active { opacity: 1; z-index: 1; }
        .slide.active img { animation: kenburns 15s ease-out forwards; }
        @keyframes kenburns { from { transform: scale(1); } to { transform: scale(1.15); } }
        .slide-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.7); border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 1.5em; color: var(--primary-color); z-index: 2; cursor: pointer; }
        .thumbnail-container { display: flex; justify-content: center; gap: 10px; margin-top: 20px; }
        .thumbnail { width: 80px; height: 60px; object-fit: cover; border-radius: 8px; opacity: 0.6; transition: all 0.3s; border: 2px solid transparent; cursor: pointer; }
        .thumbnail.active { opacity: 1; transform: scale(1.1); border-color: var(--primary-color); }

        /* --- Friend & Sulong Section --- */
        .card-container { display: flex; justify-content: center; align-items: stretch; gap: 50px; flex-wrap: wrap; }
        .interactive-card, .flip-card { cursor: pointer; transition: transform 0.4s ease-out, box-shadow 0.3s, background-color 0.5s; }
        .interactive-card:hover { transform: translateY(-15px); box-shadow: 0 25px 50px var(--shadow-color); }
        .interactive-card { background: var(--bg-main); border-radius: 20px; padding: 30px; width: 400px; text-align: center; box-shadow: 0 15px 40px var(--shadow-color); position: relative; overflow: hidden; }
        .card-image { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid var(--secondary-color); margin-bottom: 20px; }
        .card-title { font-size: 1.8em; font-weight: bold; margin-bottom: 10px; color: var(--primary-color); }
        .card-text { font-size: 1.1em; line-height: 1.6; color: var(--text-color); }
        .flip-card { background-color: transparent; width: 400px; height: 380px; perspective: 1000px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 20px; box-shadow: 0 15px 40px var(--shadow-color); display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 30px; }
        .flip-card-front { background: linear-gradient(135deg, #ff8fab, #fb6b90); color: white; }
        .flip-card-back { background: linear-gradient(135deg, #f7b733, #fc4a1a); color: white; transform: rotateY(180deg); }
        .flip-card .card-title { color: white; }

        /* --- 3D Carousel Section & Arrow Fix --- */
        #carousel-section { perspective: 1500px; }
        .carousel-wrapper { position: relative; width: 100%; height: 400px; display: flex; justify-content: center; align-items: center; }
        .carousel-container { width: 250px; height: 250px; position: relative; transform-style: preserve-3d; transition: transform 1s; }
        .carousel-item { position: absolute; left: 0; top: 0; width: 100%; height: 100%; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.2); -webkit-box-reflect: below 15px linear-gradient(transparent, transparent, #0004); }
        .carousel-item img { width: 100%; height: 100%; object-fit: cover; }
        .carousel-nav { position: absolute; top: 50%; transform: translateY(-50%); background: var(--bg-main); border: 1px solid var(--progress-bar-bg); border-radius: 50%; width: 45px; height: 45px; font-size: 1.2em; color: var(--primary-color); box-shadow: 0 5px 15px var(--shadow-color); cursor: pointer; z-index: 10; transition: all 0.3s; }
        .carousel-nav:hover { background: var(--primary-color); border-color: var(--primary-color); color: white; }
        #prev-carousel-btn { left: calc(50% - 300px); } /* Increased distance from center */
        #next-carousel-btn { right: calc(50% - 300px); } /* Increased distance from center */

        /* --- NEW: Friendship Traits Section --- */
        .traits-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
        .trait-card { background: var(--bg-main); border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px var(--shadow-color); position: relative; overflow: hidden; }
        .trait-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .trait-header i { font-size: 2em; color: var(--primary-color); }
        .trait-title { font-size: 1.4em; font-weight: bold; color: var(--text-title); margin: 0; }
        .progress-bar { width: 100%; height: 12px; background-color: var(--progress-bar-bg); border-radius: 6px; overflow: hidden; }
        .progress-bar-inner { width: 0; height: 100%; background: var(--gradient); border-radius: 6px; transition: width 1.5s cubic-bezier(0.25, 1, 0.5, 1); }
        .trait-card.visible .progress-bar-inner { width: var(--progress-level, 0%); }
        /* NEW: Spotlight/Glare effect */
        .spotlight-effect::before { content: ''; position: absolute; top: var(--y, 0); left: var(--x, 0); transform: translate(-50%, -50%); width: 0; height: 0; background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 60%); border-radius: 50%; pointer-events: none; transition: width 0.3s, height 0.3s; }
        .trait-card:hover::before, .interactive-card:hover::before { width: 300px; height: 300px; }
        body.dark-theme .spotlight-effect::before { background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 60%); }


        /* --- Music Player Section --- */
        #music-section { background: var(--gradient); color: var(--text-light); }
        .cool-player-wrapper { background: rgba(255,255,255,0.1); backdrop-filter: blur(15px); border-radius: 20px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.2); }
        .cool-player { display: flex; align-items: center; gap: 30px; flex-wrap: wrap;}
        .album-art-container { width: 150px; height: 150px; position: relative; flex-shrink: 0; }
        .album-art { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; box-shadow: 0 5px 20px rgba(0,0,0,0.2); animation: spin 12s linear infinite; animation-play-state: paused; }
        .album-art.playing { animation-play-state: running; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .player-controls { flex-grow: 1; display: flex; flex-direction: column; align-items: center; color: var(--text-light); width: calc(100% - 180px); }
        #cool-song-title { font-size: 1.8em; font-weight: bold; text-shadow: 1px 1px 3px rgba(0,0,0,0.2); }
        #cool-song-artist { font-size: 1.1em; opacity: 0.8; }
        .buttons { display: flex; align-items: center; gap: 20px; margin: 15px 0; }
        .buttons button { background: none; border: 2px solid var(--text-light); color: var(--text-light); width: 50px; height: 50px; border-radius: 50%; font-size: 1.2em; transition: all 0.3s; display: flex; justify-content: center; align-items: center; cursor: pointer; }
        .buttons button:hover { background-color: rgba(255,255,255,0.2); transform: scale(1.1); }
        .buttons #play-pause-btn { width: 65px; height: 65px; font-size: 1.8em; }
        .progress-container { width: 100%; display: flex; align-items: center; gap: 10px; font-size: 0.9em; }
        #seek-bar { -webkit-appearance: none; appearance: none; width: 100%; height: 5px; background: rgba(255, 255, 255, 0.3); border-radius: 5px; outline: none; transition: all 0.2s; cursor: pointer;}
        #seek-bar::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 15px; height: 15px; background: white; border-radius: 50%; }
        #seek-bar:hover { height: 7px; }
        .lyrics-container { margin-top: 25px; height: 120px; overflow: hidden; position: relative; width: 100%; }
        #lyrics-list { list-style: none; padding: 0; margin: 0; text-align: center; color: rgba(255, 255, 255, 0.6); transition: transform 0.5s ease-out; }
        #lyrics-list li { padding: 8px 0; font-size: 1.1em; transition: color 0.3s, font-size 0.3s, opacity 0.3s; opacity: 0.7; }
        #lyrics-list li.active { color: white; font-weight: bold; font-size: 1.3em; opacity: 1; }

        /* --- Footer --- */
        footer { background-color: var(--bg-secondary); color: #aaa; text-align: center; padding: 40px 20px; transition: all 0.5s;}
        .beat { color: var(--accent-color); animation: beat 1.2s infinite; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
    </style>
</head>
<body>

<div id="welcome-screen">
    <h2 id="welcome-title" data-value="ä¸€ä»½ä¸ºä½ å®šåˆ¶çš„æ˜Ÿå…‰ä¹‹æ—…">ä¸€ä»½ä¸ºä½ å®šåˆ¶çš„æ˜Ÿå…‰ä¹‹æ—…</h2>
</div>

<nav class="navbar">
    <a href="#home" class="nav-link active">é¦–é¡µ</a>
    <a href="#gallery" class="nav-link">æµå…‰å½±é›†</a>
    <a href="#for-her" class="nav-link">For You</a>
    <a href="#carousel-section" class="nav-link">3Dä¸“è¾‘å¢™</a>
    <a href="#traits-section" class="nav-link">å‹è°Šç‰¹è´¨</a>
    <a href="#music-section" class="nav-link">éŸ³ä¹ç›’</a>
    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
        </label>
    </div>
</nav>

<header id="home" class="hero-section">
    <div id="particles-js"></div>
    <div class="content-wrapper">
        <h1 class="hero-title" data-value="ä¸€ä»½ä¸ºä½ å®šåˆ¶çš„æ˜Ÿå…‰ä¹‹æ—…">ä¸€ä»½ä¸ºä½ å®šåˆ¶çš„æ˜Ÿå…‰ä¹‹æ—…</h1>
        <p class="hero-subtitle">é€ç»™ [å‘¨å‘¨áƒ¦] çš„ä¸“å±ç¤¼ç‰©</p>
    </div>
    <a href="#gallery" class="scroll-down-indicator"><i class="fa-solid fa-chevron-down"></i></a>
</header>

<section id="gallery" class="section section-light">
    <div class="content-wrapper">
        <h2 class="section-title reveal"><i class="fa-solid fa-images"></i>æµå…‰å½±é›† | Slideshow</h2>
        <div class="slideshow-container reveal">
            <div class="slide active"><img src="img/ç«–å›¾1.jpg" alt="çˆ±è®©ä¸€åˆ‡å¤æ´»"></div>
            <div class="slide"><img src="img/èˆå°.jpg" alt="èˆå°ç¬é—´"></div>
            <div class="slide"><img src="img/ç”Ÿæ´».jpg" alt="ç”Ÿæ´»è®°å½•"></div>
            <div class="slide"><img src="img/å¯çˆ±.jpg" alt="å¯çˆ±é€ å‹"></div>
            <div class="slide"><img src="img/æ‚å¿—.jpg" alt="æ‚å¿—å°é¢"></div>
            <div class="slide"><img src="img/ç«–å›¾2.jpg" alt="ä¾§é¢œæ€"></div>
            <button class="slide-nav slide-prev"><i class="fa-solid fa-arrow-left"></i></button>
            <button class="slide-nav slide-next"><i class="fa-solid fa-arrow-right"></i></button>
        </div>
        <div class="thumbnail-container reveal">
            <img src="img/ç«–å›¾1.jpg" class="thumbnail active" data-slide="0" alt="Thumbnail 1">
            <img src="img/èˆå°.jpg" class="thumbnail" data-slide="1" alt="Thumbnail 2">
            <img src="img/ç”Ÿæ´».jpg" class="thumbnail" data-slide="2" alt="Thumbnail 3">
            <img src="img/å¯çˆ±.jpg" class="thumbnail" data-slide="3" alt="Thumbnail 4">
            <img src="img/æ‚å¿—.jpg" class="thumbnail" data-slide="4" alt="Thumbnail 5">
            <img src="img/ç«–å›¾2.jpg" class="thumbnail" data-slide="5" alt="Thumbnail 6">
        </div>
    </div>
</section>

<section id="for-her" class="section section-accent-bg">
    <div class="content-wrapper">
        <h2 class="section-title reveal"><i class="fa-solid fa-gift"></i>For You & For Us</h2>
        <div class="card-container">
            <div class="flip-card reveal">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="img/å‘¨å‘¨.jpg" alt="ç…§ç‰‡" class="card-image">
                        <h3 class="card-title">å‘¨å‘¨áƒ¦</h3>
                        <p class="card-text">(æ‚¬åœå¡ç‰‡æœ‰æƒŠå–œ)</p>
                    </div>
                    <div class="flip-card-back">
                        <h3 class="card-title">To: æœ€å¥½çš„å‘¨å‘¨áƒ¦</h3>
                        <p class="card-text">"å˜¿ï¼Œé™¤äº†ä½ å–œæ¬¢çš„æ­Œæ‰‹ï¼Œæˆ‘æ›´æƒ³è¯´ï¼Œè®¤è¯†ä½ çœŸå¥½ï¼å¸Œæœ›è¿™ä»½å°ç¤¼ç‰©ä½ èƒ½å–œæ¬¢ã€‚æ„¿ä½ çš„ä¸–ç•Œæ°¸è¿œåƒä»–çš„æ­Œä¸€æ ·ï¼Œå……æ»¡é˜³å…‰å’Œç”œèœœï¼"</p>
                    </div>
                </div>
            </div>
            <div class="interactive-card reveal spotlight-effect">
                <img src="img/ç´ é¾™.jpg" alt="ç´ é¾™å¤´åƒ" class="card-image">
                <h3 class="card-title">å®‡å®™æœ€èŒ Â· ç´ é¾™</h3>
                <p class="card-text">ä»ä¸€ä¸ªå¯çˆ±çš„è°éŸ³æ¢—ï¼Œåˆ°ä¸€ä¸ªçœŸå®çš„å®è´ç©å¶ã€‚ç´ é¾™æ˜¯æˆ‘ä»¬ä¹‹é—´å¿ƒç…§ä¸å®£çš„ç”œèœœæš—å·ï¼</p>
            </div>
        </div>
    </div>
</section>

<section id="carousel-section" class="section section-light">
    <div class="content-wrapper">
        <h2 class="section-title reveal"><i class="fa-solid fa-cubes"></i>3D ä¸“è¾‘å¢™</h2>
        <div class="carousel-wrapper reveal">
            <div class="carousel-container">
                <div class="carousel-item"><img src="img/ä¸€ç¬‘å€¾åŸ-æ±ªè‹æ³·.jpg" alt="Album 1"></div>
                <div class="carousel-item"><img src="img/é»‘æ¢¦-æ±ªè‹æ³·.jpg" alt="Album 2"></div>
                <div class="carousel-item"><img src="img/å¹´è½®-æ±ªè‹æ³·.jpg" alt="Album 3"></div>
                <div class="carousel-item"><img src="img/album4.jpg" alt="Album 4"></div>
                <div class="carousel-item"><img src="img/album5.jpg" alt="Album 5"></div>
                <div class="carousel-item"><img src="img/album6.jpg" alt="Album 6"></div>
                <div class="carousel-item"><img src="img/album7.jpg" alt="Album 7"></div>
                <div class="carousel-item"><img src="img/album8.jpg" alt="Album 8"></div>
            </div>
            <button id="prev-carousel-btn" class="carousel-nav"><i class="fa-solid fa-chevron-left"></i></button>
            <button id="next-carousel-btn" class="carousel-nav"><i class="fa-solid fa-chevron-right"></i></button>
        </div>
    </div>
</section>

<section id="traits-section" class="section section-accent-bg">
    <div class="content-wrapper">
        <h2 class="section-title reveal"><i class="fa-solid fa-star"></i>å‹è°Šç‰¹è´¨ | Friendship Traits</h2>
        <div class="traits-container reveal">
            <div class="trait-card spotlight-effect" style="--progress-level: 95%;">
                <div class="trait-header">
                    <i class="fa-solid fa-heart-pulse"></i>
                    <h3 class="trait-title">å–„è‰¯æŒ‡æ•°</h3>
                </div>
                <div class="progress-bar"><div class="progress-bar-inner"></div></div>
            </div>
            <div class="trait-card spotlight-effect" style="--progress-level: 90%;">
                <div class="trait-header">
                    <i class="fa-solid fa-face-grin-beam"></i>
                    <h3 class="trait-title">å¯çˆ±ç¨‹åº¦</h3>
                </div>
                <div class="progress-bar"><div class="progress-bar-inner"></div></div>
            </div>
            <div class="trait-card spotlight-effect" style="--progress-level: 85%;">
                <div class="trait-header">
                    <i class="fa-solid fa-lightbulb"></i>
                    <h3 class="trait-title">é»˜å¥‘åŒæ­¥ç‡</h3>
                </div>
                <div class="progress-bar"><div class="progress-bar-inner"></div></div>
            </div>
        </div>
    </div>
</section>


<section id="music-section" class="section">
    <div class="content-wrapper">
        <div class="reveal">
            <h2 class="section-title"><i class="fa-solid fa-compact-disc"></i>æ²‰æµ¸éŸ³ä¹ç›’</h2>
            <div class="cool-player-wrapper">
                <div id="music-player">
                    <div class="cool-player">
                        <div class="album-art-container">
                            <img src="img/ä¸€ç¬‘å€¾åŸ-æ±ªè‹æ³·.jpg" alt="Album Art" id="album-art-img" class="album-art">
                        </div>
                        <div class="player-controls">
                            <div class="song-info">
                                <div id="cool-song-title">é€‰æ‹©ä¸€é¦–æ­Œ</div>
                                <div id="cool-song-artist">æ±ªè‹æ³·</div>
                            </div>
                            <div class="progress-container">
                                <span id="current-time">0:00</span>
                                <input type="range" id="seek-bar" value="0" step="1">
                                <span id="duration">0:00</span>
                            </div>
                            <div class="buttons">
                                <button id="prev-btn"><i class="fa-solid fa-backward-step"></i></button>
                                <button id="play-pause-btn"><i class="fa-solid fa-play"></i></button>
                                <button id="next-btn"><i class="fa-solid fa-forward-step"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="lyrics-container">
                        <ul id="lyrics-list"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <div class="content-wrapper">
        <p>A Special Gift for [å‘¨å‘¨áƒ¦]</p>
        <p>Made with <i class="fa-solid fa-heart beat"></i> by ä½ çš„æœ‹å‹</p>
        <p>&copy; 2025</p>
    </div>
</footer>

<audio id="audio-player" crossOrigin="anonymous"></audio>

<script>
    // This is the particles.js library code.
    var pJS=function(e,a){var t=document.querySelector("#"+e+" > .particles-js-canvas-el");this.pJS={canvas:{el:t,w:t.offsetWidth,h:t.offsetHeight},particles:{number:{value:40,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#fff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var s=this.pJS;a&&Object.deepExtend(s,a),s.fn.vendors.eventsListeners=function(){"canvas"==s.interactivity.detect_on?s.interactivity.el=s.canvas.el:s.interactivity.el=window,s.interactivity.el.addEventListener("mousemove",function(e){if(s.interactivity.el==window){var a=e.clientX,t=e.clientY}else{var a=e.offsetX||e.clientX,t=e.offsetY||e.clientY}s.interactivity.mouse.pos_x=a,s.interactivity.mouse.pos_y=t,s.tmp.retina&&(s.interactivity.mouse.pos_x*=s.canvas.pxratio,s.interactivity.mouse.pos_y*=s.canvas.pxratio),s.interactivity.status="mousemove"}),s.interactivity.el.addEventListener("mouseleave",function(e){s.interactivity.mouse.pos_x=null,s.interactivity.mouse.pos_y=null,s.interactivity.status="mouseleave"}),s.interactivity.el.addEventListener("click",function(){s.interactivity.mouse.click_pos_x=s.interactivity.mouse.pos_x,s.interactivity.mouse.click_pos_y=s.interactivity.mouse.pos_y,s.interactivity.mouse.click_time=Date.now(),s.interactivity.events.onclick.enable&&s.fn.modes.pushParticles(s.interactivity.modes.push.particles_nb,s.interactivity.mouse)})},s.fn.vendors.densityAutoParticles=function(){if(s.particles.number.density.enable){var e=s.canvas.el.width*s.canvas.el.height/1e3;s.tmp.retina&&(e/=s.canvas.pxratio*2);var a=e*s.particles.number.value/s.particles.number.density.value_area,t=s.particles.array.length-a;t<0?s.fn.modes.pushParticles(Math.abs(t)):s.fn.modes.removeParticles(t)}},s.fn.vendors.checkOverlap=function(e,a){for(var t=0;t<s.particles.array.length;t++){var i=s.particles.array[t],n=e.x-i.x,r=e.y-i.y,c=Math.sqrt(n*n+r*r);c<=e.radius+i.radius&&(e.x=a?a.x:Math.random()*s.canvas.w,e.y=a?a.y:Math.random()*s.canvas.h,s.fn.vendors.checkOverlap(e))}},s.fn.vendors.createSvgImg=function(e){var a=s.tmp.source_svg,t=/^#([0-9A-F]{3}){1,2}$/i.exec(e.color.value);t&&(e.color.rgb={r:parseInt(t[1].substring(0,2),16),g:parseInt(t[1].substring(2,4),16),b:parseInt(t[1].substring(4,6),16)});var i='<svg xmlns="http://www.w3.org/2000/svg" width="'+e.size.value+'" height="'+e.size.value+'" viewBox="0 0 '+e.size.value+" "+e.size.value+'" fill="rgb('+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+')">'+a+"</svg>",n=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),r=window.URL||window.webkitURL||window,c=r.createObjectURL(n);e.img={src:c,ratio:e.size.value/100,loaded:!1},r.revokeObjectURL(c)},s.fn.vendors.destroypJS=function(){cancelAnimationFrame(s.fn.drawAnimFrame),t.remove(),pJSDom=[]},s.fn.vendors.draw=function(){s.canvas.ctx.clearRect(0,0,s.canvas.w,s.canvas.h),s.fn.particlesDraw()},s.fn.vendors.checkBeforeDraw=function(){s.fn.vendors.init(),s.fn.vendors.draw()},s.fn.vendors.init=function(){s.fn.retinaInit(),s.fn.canvasInit(),s.fn.canvasSize(),s.fn.particlesCreate(),s.fn.vendors.densityAutoParticles(),s.particles.line_linked.color_rgb_line=hexToRgb(s.particles.line_linked.color)},s.fn.vendors.start=function(){s.fn.vendors.eventsListeners(),s.fn.vendors.drawloop()},s.fn.vendors.drawloop=function(){s.fn.drawAnimFrame=requestAnimFrame(s.fn.vendors.drawloop),s.fn.vendors.draw()},s.fn.retinaInit=function(){s.retina_detect&&window.devicePixelRatio>1?(s.canvas.pxratio=window.devicePixelRatio,s.tmp.retina=!0):(s.canvas.pxratio=1,s.tmp.retina=!1),s.canvas.w=s.canvas.el.offsetWidth*s.canvas.pxratio,s.canvas.h=s.canvas.el.offsetHeight*s.canvas.pxratio,s.particles.number.value=s.particles.number.value_tmp,s.particles.size.value=s.particles.size.value_tmp,s.particles.move.speed=s.particles.move.speed_tmp,s.particles.line_linked.distance=s.particles.line_linked.distance_tmp,s.particles.line_linked.width=s.particles.line_linked.width_tmp,s.particles.size.anim.speed=s.particles.size.anim.speed_tmp,s.particles.opacity.anim.speed=s.particles.opacity.anim.speed_tmp},s.fn.canvasInit=function(){s.canvas.ctx=s.canvas.el.getContext("2d")},s.fn.canvasSize=function(){s.canvas.el.width=s.canvas.w,s.canvas.el.height=s.canvas.h,s&&s.interactivity.events.resize&&window.addEventListener("resize",function(){s.canvas.w=s.canvas.el.offsetWidth,s.canvas.h=s.canvas.el.offsetHeight,s.tmp.retina&&(s.canvas.w*=s.canvas.pxratio,s.canvas.h*=s.canvas.pxratio),s.canvas.el.width=s.canvas.w,s.canvas.el.height=s.canvas.h,s.particles.move.out_mode||s.fn.vendors.densityAutoParticles(),s.fn.particlesDraw()})},s.fn.particlesCreate=function(){for(var e=0;e<s.particles.number.value;e++)s.particles.array.push(new s.fn.particle(s.particles.color,s.particles.opacity.value))},s.fn.particlesUpdate=function(){for(var e=0;e<s.particles.array.length;e++){var a=s.particles.array[e];s.fn.interact.linkParticles(a);for(var t=e+1;t<s.particles.array.length;t++){var i=s.particles.array[t];s.fn.interact.linkParticles(a,i)}s.fn.interact.attractParticles(a),s.fn.interact.bounceParticles(a),a.update()}},s.fn.particlesDraw=function(){s.canvas.ctx.clearRect(0,0,s.canvas.w,s.canvas.h),s.fn.particlesUpdate();for(var e=0;e<s.particles.array.length;e++){var a=s.particles.array[e];a.draw()}},s.fn.particle=function(e,a,t){var i=this;this.x=t?t.x:Math.random()*s.canvas.w,this.y=t?t.y:Math.random()*s.canvas.h,this.radius=(s.particles.size.random?Math.random():1)*s.particles.size.value,s.tmp.retina&&(this.radius*=s.canvas.pxratio),this.color={},"object"==typeof e.value?e.value instanceof Array?(this.color.value=e.value[Math.floor(Math.random()*s.particles.color.value.length)],i.color_value=this.color.value):(void 0!=e.value.r&&void 0!=e.value.g&&void 0!=e.value.b&&(this.color.value={r:e.value.r,g:e.value.g,b:e.value.b}),void 0!=e.value.h&&void 0!=e.value.s&&void 0!=e.value.l&&(this.color.value={h:e.value.h,s:e.value.s,l:e.value.l})): "random"==e.value?this.color.value={r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random())}:"string"==typeof e.value&&(i.color_value=e.value,this.color.value=e.value),this.color=hexToRgb(this.color.value),this.opacity=(s.particles.opacity.random?Math.random():1)*a,s.particles.size.anim.enable&&(this.size_status="increase",this.vs=s.particles.size.anim.speed/100,s.tmp.retina||(this.vs/=s.canvas.pxratio)),s.particles.opacity.anim.enable&&(this.opacity_status="increase",this.vo=s.particles.opacity.anim.speed/100,s.tmp.retina||(this.vo/=s.canvas.pxratio));var n=s.particles.move.direction;if(n instanceof Array){var r=n[Math.floor(Math.random()*n.length)];i.direction=r}else i.direction=n;switch(i.direction){case"top":this.vx=0,this.vy=-s.particles.move.speed;break;case"top-right":this.vx=s.particles.move.speed,this.vy=-s.particles.move.speed;break;case"right":this.vx=s.particles.move.speed,this.vy=0;break;case"bottom-right":this.vx=s.particles.move.speed,this.vy=s.particles.move.speed;break;case"bottom":this.vx=0,this.vy=s.particles.move.speed;break;case"bottom-left":this.vx=-s.particles.move.speed,this.vy=s.particles.move.speed;break;case"left":this.vx=-s.particles.move.speed,this.vy=0;break;case"top-left":this.vx=-s.particles.move.speed,this.vy=-s.particles.move.speed;break;default:this.vx=Math.cos(Math.random()*2*Math.PI)*s.particles.move.speed,this.vy=Math.sin(Math.random()*2*Math.PI)*s.particles.move.speed}s.fn.vendors.checkOverlap(this,t),this.update=function(){s.particles.move.straight?(i.x+=i.vx,i.y+=i.vy):(i.x+=Math.cos(i.direction)*i.vx,i.y+=Math.sin(i.direction)*i.vy),s.particles.move.bounce&&(i.x-i.radius<0?i.vx=-i.vx:i.x+i.radius>s.canvas.w&&(i.vx=-i.vx),i.y-i.radius<0?i.vy=-i.vy:i.y+i.radius>s.canvas.h&&(i.vy=-i.vy)),s.particles.size.anim.enable&&("increase"==i.size_status?i.radius<s.particles.size.value&&s.tmp.retina?i.radius<s.particles.size.value*s.canvas.pxratio?i.radius+=i.vs:i.size_status="decrease":i.radius<s.particles.size.value&&(i.radius+=i.vs):"decrease"==i.size_status&&(i.radius>s.particles.size.anim.size_min&&s.tmp.retina?i.radius>s.particles.size.anim.size_min*s.canvas.pxratio?i.radius-=i.vs:i.size_status="increase":i.radius>s.particles.size.anim.size_min&&(i.radius-=i.vs))),s.particles.opacity.anim.enable&&("increase"==i.opacity_status?i.opacity<s.particles.opacity.value&&(i.opacity+=i.vo):"decrease"==i.opacity_status&&(i.opacity>s.particles.opacity.anim.opacity_min&&(i.opacity-=i.vo)))},this.draw=function(){s.canvas.ctx.fillStyle="rgba("+i.color.r+","+i.color.g+","+i.color.b+","+i.opacity+")",s.canvas.ctx.beginPath(),s.canvas.ctx.arc(i.x,i.y,i.radius,0,2*Math.PI,!1),s.canvas.ctx.closePath(),s.canvas.ctx.fill()}},s.fn.interact.linkParticles=function(e,a){var t=e.x-a.x,i=e.y-a.y,n=Math.sqrt(t*t+i*i);if(n<=s.particles.line_linked.distance){var r=s.particles.line_linked.opacity-n/(1/s.particles.line_linked.opacity)/s.particles.line_linked.distance;if(r>0){var c=s.particles.line_linked.color_rgb_line;s.canvas.ctx.strokeStyle="rgba("+c.r+","+c.g+","+c.b+","+r+")",s.canvas.ctx.lineWidth=s.particles.line_linked.width,s.canvas.ctx.beginPath(),s.canvas.ctx.moveTo(e.x,e.y),s.canvas.ctx.lineTo(a.x,a.y),s.canvas.ctx.stroke(),s.canvas.ctx.closePath()}}},s.fn.interact.attractParticles=function(e){for(var a=0;a<s.particles.array.length;a++){var t=s.particles.array[a];if(e!=t){var i=e.x-t.x,n=e.y-t.y;Math.sqrt(i*i+n*n)<=s.particles.line_linked.distance&&(e.vx-=i/(1e3*s.particles.move.attract.rotateX),e.vy-=n/(1e3*s.particles.move.attract.rotateY))}}},s.fn.interact.bounceParticles=function(e){for(var a=0;a<s.particles.array.length;a++){var t=s.particles.array[a];if(e!=t){var i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n);r<=e.radius+t.radius&&(e.vx=-e.vx,e.vy=-e.vy,t.vx=-t.vx,t.vy=-t.vy)}}},s.fn.modes.pushParticles=function(e,a){s.tmp.pushing=!0;for(var t=0;t<e;t++)s.particles.array.push(new s.fn.particle(s.particles.color,s.particles.opacity.value,{x:a?a.pos_x:Math.random()*s.canvas.w,y:a?a.pos_y:Math.random()*s.canvas.h})),t==e-1&&(s.particles.move.enable||s.fn.particlesDraw(),s.tmp.pushing=!1)},s.fn.modes.removeParticles=function(e){s.particles.array.splice(0,e),s.particles.move.enable||s.fn.particlesDraw()},s.fn.modes.bubbleParticle=function(e){if("mousemove"==s.interactivity.status){var a=e.x-s.interactivity.mouse.pos_x,t=e.y-s.interactivity.mouse.pos_y,i=Math.sqrt(a*a+t*t),n=1-i/s.interactivity.modes.bubble.distance;if(i<=s.interactivity.modes.bubble.distance){if(n>=0&&"mousemove"==s.interactivity.status){if(s.interactivity.modes.bubble.size>e.radius){var r=e.radius+s.interactivity.modes.bubble.size*n;r>=0&&(e.radius_bubble=r)}else{var c=e.radius-s.interactivity.modes.bubble.size*n;e.radius_bubble=c>0?c:0}if(s.interactivity.modes.bubble.opacity>e.opacity){var o=e.opacity+s.interactivity.modes.bubble.opacity*n;o>e.opacity&&o<=s.interactivity.modes.bubble.opacity&&(e.opacity_bubble=o)}else{var l=e.opacity-s.interactivity.modes.bubble.opacity*n;l<e.opacity&&l>=0&&(e.opacity_bubble=l)}}}}else e.opacity_bubble=e.opacity,e.radius_bubble=e.radius;if(s.tmp.bubble_clicking){var p=e.x-s.interactivity.mouse.click_pos_x,v=e.y-s.interactivity.mouse.click_pos_y,d=Math.sqrt(p*p+v*v),u=(new Date).getTime()-s.interactivity.mouse.click_time;u<s.interactivity.modes.bubble.duration&&(s.tmp.bubble_duration_end=!1,d<=s.interactivity.modes.bubble.distance&&(e.radius_bubble=s.interactivity.modes.bubble.size,e.opacity_bubble=s.interactivity.modes.bubble.opacity)),u>s.interactivity.modes.bubble.duration&&(s.tmp.bubble_duration_end=!0)}s.tmp.bubble_duration_end&&(e.opacity_bubble=e.opacity,e.radius_bubble=e.radius)},s.fn.modes.repulseParticle=function(e){var a=1e3*s.particles.move.attract.rotateX,t=1e3*s.particles.move.attract.rotateY;if("mousemove"==s.interactivity.status){var i=e.x-s.interactivity.mouse.pos_x,n=e.y-s.interactivity.mouse.pos_y,r=Math.sqrt(i*i+n*n),c=i/r,o=n/r,l=s.interactivity.modes.repulse.distance,p=Math.pow(1/l*r,2)*100,v={x:e.x+c*p,y:e.y+o*p};s.particles.move.out_mode?0<v.x&&v.x<s.canvas.w&&0<v.y&&v.y<s.canvas.h&&(e.x=v.x,e.y=v.y):(e.x=v.x,e.y=v.y)}else if("onclick"==s.interactivity.status){var d=e.x-s.interactivity.mouse.click_pos_x,u=e.y-s.interactivity.mouse.click_pos_y,m=Math.sqrt(d*d+u*u);(new Date).getTime()-s.interactivity.mouse.click_time<s.interactivity.modes.repulse.duration&&(m<s.interactivity.modes.repulse.distance&&(e.vx+=d/m*5,e.vy+=u/m*5))}},s.fn.modes.grabParticle=function(e){if("mousemove"==s.interactivity.status){var a=e.x-s.interactivity.mouse.pos_x,t=e.y-s.interactivity.mouse.pos_y,i=Math.sqrt(a*a+t*t);if(i<=s.interactivity.modes.grab.distance){var n=s.interactivity.modes.grab.line_linked.opacity-i/(1/s.interactivity.modes.grab.line_linked.opacity)/s.interactivity.modes.grab.distance;if(n>0){var r=s.particles.line_linked.color_rgb_line;s.canvas.ctx.strokeStyle="rgba("+r.r+","+r.g+","+r.b+","+n+")",s.canvas.ctx.lineWidth=s.particles.line_linked.width,s.canvas.ctx.beginPath(),s.canvas.ctx.moveTo(e.x,e.y),s.canvas.ctx.lineTo(s.interactivity.mouse.pos_x,s.interactivity.mouse.pos_y),s.canvas.ctx.stroke(),s.canvas.ctx.closePath()}}}},s.fn.vendors.init(),s.fn.vendors.start()};Object.deepExtend=function(e,a){for(var t in a)a[t]&&a[t].constructor&&a[t].constructor===Object?(e[t]=e[t]||{},arguments.callee(e[t],a[t])):e[t]=a[t];return e},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout}(),window.hexToRgb=function(e){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(a,function(e,a,t,i){return a+a+t+t+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},window.pJSDom=[],window.particlesJS=function(e,a){"string"!=typeof e&&(a=e,e="particles-js"),e||(e="particles-js");var t=document.getElementById(e),i="particles-js-canvas-el",n=t.getElementsByClassName(i);if(n.length)for(;n.length>0;)t.removeChild(n[0]);var r=document.createElement("canvas");r.className=i,r.style.width="100%",r.style.height="100%";var c=document.getElementById(e).appendChild(r);null!=c&&pJSDom.push(new pJS(e,a))};
</script>

<script>
    // JAVASCRIPT CODE - V12.0 FINAL POLISHED MASTERPIECE
    document.addEventListener('DOMContentLoaded', () => {

        // --- NEW: Text Scramble Effect ---
        class TextScramble {
            constructor(el) { this.el = el; this.chars = '!<>-_\\/[]{}â€”=+*^?#________'; this.update = this.update.bind(this); }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 40);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0; this.update(); return promise;
            }
            update() {
                let output = ''; let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) { complete++; output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.28) { char = this.randomChar(); this.queue[i].char = char; }
                        output += `<span class="dud">${char}</span>`;
                    } else { output += from; }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) { this.resolve();
                } else { this.frameRequest = requestAnimationFrame(this.update); this.frame++; }
            }
            randomChar() { return this.chars[Math.floor(Math.random() * this.chars.length)] }
        }
        const titleElement = document.querySelector('.hero-title');
        const scrambleFx = new TextScramble(titleElement);
        setTimeout(() => { scrambleFx.setText(titleElement.getAttribute('data-value')); }, 1000);


        // --- Particles.js Initialization ---
        function getParticlesConfig() {
            const isDark = document.body.classList.contains('dark-theme');
            const particleColor = isDark ? "#4a4a6b" : "#ffffff";
            const lineColor = isDark ? "#4a4a6b" : "#ffffff";
            const particleOpacity = isDark ? 0.3 : 0.5;
            return {
                "particles": { "number": { "value": 60, "density": { "enable": true, "value_area": 800 } }, "color": { "value": particleColor }, "shape": { "type": "circle" }, "opacity": { "value": particleOpacity, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0.1, "sync": false } }, "size": { "value": 2.5, "random": true }, "line_linked": { "enable": true, "distance": 150, "color": lineColor, "opacity": 0.2, "width": 1 }, "move": { "enable": true, "speed": 1, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false } },
                "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" } }, "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } } },
                "retina_detect": true
            };
        }
        particlesJS('particles-js', getParticlesConfig());

        // --- Theme Switcher ---
        const themeSwitch = document.getElementById('checkbox');
        themeSwitch.addEventListener('change', () => {
            document.body.classList.toggle('dark-theme');
            if (window.pJSDom && window.pJSDom[0]) { window.pJSDom[0].pJS.fn.vendors.destroypJS(); window.pJSDom = []; }
            particlesJS('particles-js', getParticlesConfig());
        });

        // --- Welcome Screen ---
        const welcomeScreen = document.getElementById('welcome-screen');
        setTimeout(() => {
            if(welcomeScreen) { welcomeScreen.style.opacity = '0'; welcomeScreen.style.visibility = 'hidden'; }
            document.body.style.overflow = 'auto';
        }, 2500);
        document.body.style.overflow = 'hidden';

        // --- On-Scroll Reveal ---
        const revealObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));

        // --- Navbar Scroll & Active Link ---
        const navbar = document.querySelector('.navbar');
        const sections = document.querySelectorAll('section, header');
        const navLinks = document.querySelectorAll('.nav-link');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) navbar.classList.add('scrolled');
            else navbar.classList.remove('scrolled');
            let currentId = 'home';
            sections.forEach(section => {
                if (pageYOffset >= section.offsetTop - navbar.offsetHeight) { currentId = section.getAttribute('id'); }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentId}`) { link.classList.add('active'); }
            });
        });

        // --- NEW: Spotlight Effect on Cards ---
        document.querySelectorAll('.spotlight-effect').forEach(card => {
            card.addEventListener('mousemove', e => {
                const rect = card.getBoundingClientRect();
                card.style.setProperty('--x', e.clientX - rect.left + 'px');
                card.style.setProperty('--y', e.clientY - rect.top + 'px');
            });
        });

        // --- Slideshow Gallery ---
        const slides = document.querySelectorAll('.slide');
        const thumbnails = document.querySelectorAll('.thumbnail');
        const prevSlideBtn = document.querySelector('.slide-prev');
        const nextSlideBtn = document.querySelector('.slide-next');
        let currentSlide = 0;
        let slideInterval = setInterval(nextSlide, 7000);
        function nextSlide() { showSlide((currentSlide + 1) % slides.length); }
        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            thumbnails[currentSlide].classList.remove('active');
            currentSlide = (n + slides.length) % slides.length;
            slides[currentSlide].classList.add('active');
            thumbnails[currentSlide].classList.add('active');
        }
        function resetSlideInterval() { clearInterval(slideInterval); slideInterval = setInterval(nextSlide, 7000); }
        prevSlideBtn.addEventListener('click', () => { showSlide(currentSlide - 1); resetSlideInterval(); });
        nextSlideBtn.addEventListener('click', () => { showSlide(currentSlide + 1); resetSlideInterval(); });
        thumbnails.forEach(t => t.addEventListener('click', () => { showSlide(parseInt(t.dataset.slide)); resetSlideInterval(); }));

        // --- 3D Carousel ---
        const carousel = document.querySelector('.carousel-container');
        const carouselItems = document.querySelectorAll('.carousel-item');
        const prevCarouselBtn = document.getElementById('prev-carousel-btn');
        const nextCarouselBtn = document.getElementById('next-carousel-btn');
        const totalItems = carouselItems.length;
        const angle = 360 / totalItems;
        const tz = Math.round((250 / 2) / Math.tan(Math.PI / totalItems));
        let currentAngle = 0;
        carouselItems.forEach((item, i) => { item.style.transform = `rotateY(${i * angle}deg) translateZ(${tz}px)`; });
        prevCarouselBtn.addEventListener('click', () => { currentAngle += angle; carousel.style.transform = `rotateY(${currentAngle}deg)`; });
        nextCarouselBtn.addEventListener('click', () => { currentAngle -= angle; carousel.style.transform = `rotateY(${currentAngle}deg)`; });


        // --- Music Player & LRC (FIXED) ---
        const audioPlayer = document.getElementById('audio-player');
        let audioContext;
        let isAudioContextInitialized = false;

        const playPauseBtn = document.getElementById('play-pause-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const seekBar = document.getElementById('seek-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const albumArtImg = document.getElementById('album-art-img');
        const songTitleEl = document.getElementById('cool-song-title');
        const lyricsList = document.getElementById('lyrics-list');

        const playlist = [
            { title: "ä¸€ç¬‘å€¾åŸ", artist: "æ±ªè‹æ³·", src: "music/ä¸€ç¬‘å€¾åŸ-æ±ªè‹æ³·.mp3", albumArt: "img/ä¸€ç¬‘å€¾åŸ-æ±ªè‹æ³·.jpg", lrcSrc: "music/ä¸€ç¬‘å€¾åŸ-æ±ªè‹æ³·.lrc" },
            { title: "é»‘æ¢¦", artist: "æ±ªè‹æ³·", src: "music/é»‘æ¢¦-æ±ªè‹æ³·.mp3", albumArt: "img/é»‘æ¢¦-æ±ªè‹æ³·.jpg", lrcSrc: "music/é»‘æ¢¦-æ±ªè‹æ³·.lrc" },
            { title: "å¹´è½®", artist: "æ±ªè‹æ³·", src: "music/å¹´è½®-æ±ªè‹æ³·.mp3", albumArt: "img/å¹´è½®-æ±ªè‹æ³·.jpg", lrcSrc: "music/å¹´è½®-æ±ªè‹æ³·.lrc" }
        ];

        let currentSongIndex = 0;
        let isPlaying = false;
        let currentLyrics = [];
        let currentLyricIndex = -1;

        // --- NEW: Function to initialize Audio Context on user gesture ---
        function initializeAudio() {
            if (isAudioContextInitialized) return;
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            // This connects the audio element to the context, required for some browsers
            const source = audioContext.createMediaElementSource(audioPlayer);
            source.connect(audioContext.destination);
            isAudioContextInitialized = true;
        }

        function playSong() {
            if (!isAudioContextInitialized) {
                initializeAudio();
            }
            // Resume context if suspended
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }

            const playPromise = audioPlayer.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    isPlaying = true;
                    albumArtImg.classList.add('playing');
                    playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
                }).catch(error => {
                    console.error("Playback failed:", error);
                    isPlaying = false;
                });
            }
        }
        function pauseSong() {
            audioPlayer.pause();
            isPlaying = false;
            albumArtImg.classList.remove('playing');
            playPauseBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
        }

        playPauseBtn.addEventListener('click', () => {
            // CRITICAL FIX: The first user click initializes everything.
            if (!isAudioContextInitialized) {
                initializeAudio();
            }
            isPlaying ? pauseSong() : playSong();
        });

        // The rest of the music player logic...
        function parseLRC(lrcContent) {
            const lines = lrcContent.split('\n'); const lyrics = []; const timeRegex = /\[(\d{2}):(\d{2})[.:](\d{2,3})\]/;
            for (const line of lines) {
                const match = timeRegex.exec(line);
                if (match) {
                    const time = parseInt(match[1], 10) * 60 + parseInt(match[2], 10) + parseInt(match[3].padEnd(3, '0'), 10) / 1000;
                    const text = line.replace(timeRegex, '').trim();
                    if (text) lyrics.push({ time, text });
                }
            } return lyrics;
        }
        async function loadLyrics(lrcPath) {
            try {
                const response = await fetch(lrcPath); if (!response.ok) throw new Error('Lyric file not found');
                const lrcText = await response.text(); currentLyrics = parseLRC(lrcText); lyricsList.innerHTML = '';
                currentLyrics.forEach(lyric => { const li = document.createElement('li'); li.textContent = lyric.text; lyricsList.appendChild(li); });
            } catch (error) { lyricsList.innerHTML = '<li>æš‚æ— æ­Œè¯</li>'; currentLyrics = []; }
            lyricsList.style.transform = 'translateY(0)'; currentLyricIndex = -1;
        }
        function updateLyrics() {
            if (!currentLyrics.length) return; const currentTime = audioPlayer.currentTime;
            let newLyricIndex = currentLyrics.findIndex((lyric, index) => {
                const nextLyric = currentLyrics[index + 1];
                return currentTime >= lyric.time && (!nextLyric || currentTime < nextLyric.time);
            });
            if (newLyricIndex !== -1 && newLyricIndex !== currentLyricIndex) {
                const allLi = lyricsList.querySelectorAll('li');
                if (currentLyricIndex !== -1) allLi[currentLyricIndex]?.classList.remove('active');
                allLi[newLyricIndex]?.classList.add('active'); currentLyricIndex = newLyricIndex;
                const activeLi = allLi[newLyricIndex];
                if (activeLi) {
                    const listContainer = document.querySelector('.lyrics-container');
                    const scrollOffset = activeLi.offsetTop - listContainer.clientHeight / 2 + activeLi.clientHeight / 2;
                    lyricsList.style.transform = `translateY(-${scrollOffset}px)`;
                }
            }
        }
        function loadSong(song) {
            songTitleEl.textContent = song.title; albumArtImg.src = song.albumArt; audioPlayer.src = song.src;
            loadLyrics(song.lrcSrc);
            audioPlayer.addEventListener('loadedmetadata', () => { durationEl.textContent = formatTime(audioPlayer.duration); seekBar.max = audioPlayer.duration; });
        }
        function prevSong() { currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length; loadSong(playlist[currentSongIndex]); if (isPlaying) playSong(); }
        function nextSong() { currentSongIndex = (currentSongIndex + 1) % playlist.length; loadSong(playlist[currentSongIndex]); if (isPlaying) playSong(); }
        function updateProgress() { if (audioPlayer.duration) { seekBar.value = audioPlayer.currentTime; currentTimeEl.textContent = formatTime(audioPlayer.currentTime); updateLyrics(); } }
        function formatTime(seconds) { const minutes = Math.floor(seconds / 60); const secs = Math.floor(seconds % 60); return `${minutes}:${secs < 10 ? '0' : ''}${secs}`; }

        prevBtn.addEventListener('click', prevSong);
        nextBtn.addEventListener('click', nextSong);
        audioPlayer.addEventListener('timeupdate', updateProgress);
        audioPlayer.addEventListener('ended', nextSong);
        seekBar.addEventListener('input', () => { audioPlayer.currentTime = seekBar.value; });

        if (playlist.length > 0) loadSong(playlist[currentSongIndex]);
    });
</script>

</body>
</html>